# 변수 선언·초기화·스코프
## 개념 설명
- **선언** : 상자의 **종류(타입)과 이름**을 정해요 - `int count;`
- **초기화** : 첫 값을 넣어요 - `int count = 0`;
- **재할당** : 값을 바꿔 넣어요 - `count = 1;`
- **스코프(scope)** : 상자를 **어디서까지 볼 수 있는가**
	- 블록 스코프: `{...}` 안에서만 보이는 변수
	- 메서드(지역) 변수: 메서드 안에서만
	- 필드: 클래스 수준(인스턴스/`static`)
- **수명(lifetime)**: 지역변수는 **블록이 끝나면 소멸**, 필드는 **객체/클래스가 살아 있는 동안** 유지
- **초기화 규칙**:
	- 지역 변수: **반드시 초기화 후 사용**(안 하면 컴파일 오류)
	- 필드: 기본값 자동 부여(기본형 0/false, 참조형 `null`)

---
## 코드
```java
public class ScopeDemo {  
    // 1) 필드(인스턴스/클래스)  
    private int instanceCount = 0;  // 인스턴스 필드 (객체마다 별도)  
    private static String appName = "TIL";  // 클래스(static) 필드 (공유됨)  
  
    public void work() {  
        // 2) 지역 변수(메서드 스코프)  
        int processed = 0;  // 반드시 초기화 후 사용  
  
        if (true) {  
            // 3) 블록 스코프  
            String step = "parse";  
            processed++;  
            System.out.println(step + " -> " + processed);  
        }  
        // System.out.println(step);
        // 컴파일 오류: step은 블록 밖에서 보이지 않음  
  
        instanceCount += processed;  //필드 접근  
    }  
      
    public static void main(String[] args) {  
        ScopeDemo d1 = new ScopeDemo();  
        ScopeDemo d2 = new ScopeDemo();  
  
        d1.work(); d2.work();  
        System.out.println(appName);  // static 필드 접근  
        // System.out.println(processed);
        // 컴파일 오류: 지역 변수는 main에서 모름  
        System.out.println(d1.instanceCount);  // 각 객체마다 값이 다를 수 있음.  
        System.out.println(d2.instanceCount);  
    }  
}
```

---
## 코드 해설
- `istanceCount`는 **인스턴스 필드**예요. `new`로 만든 객체마다 따로 존재.
- `appName`은 **클래스(static) 필드**: 모든 인스턴스가 **같은** 값을 공유.
- `processed`는 **지역 변수**라 `work()` 안에서만 보이고, **초기화**해야 사용 가능.
- `step`은 **블록 변수**라 `if` 블록을 벗어나면 접근 불가.
- 주석 처리된 라인들은 전형적인 **스코프/초기화 오류** 예시.

---
## 모범 사례 / 팁
- **스코프는 최대한 좁게** : 변수가 필요한 가장 작은 블록에 선언(가독성↑, 실수↓)
- **의미 있는 이름** + **초기화와 동시에 선언**을 우선
- **shadowing(가림)** 피하기: 필드와 같은 이름의 지역변수는 혼란 초래
- **상수는 `private static final` UPPER_SNAKE_CASE**로 선언 (`MAX_RETRY`)
- Spring 개발 시: 구성요소 필드는 가능하면 `private final` + **생성자 주입**으로 불변성 유지
- `static` 가변 상태는 멀티스레드 환경에서 위험 → 동기화/불변 설계 고려
- 지역 변수 `var`는 **타입이 명확할 때만** (자세한 기준은 챕터 6에서)
